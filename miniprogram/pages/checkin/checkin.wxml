<!--pages/checkin/checkin.wxml-->
<view class="container">
  <!-- é€‰ä¸­åœ°ç‚¹ä¿¡æ¯ -->
  <view class="location-card card">
    <view class="location-header">
      <text class="location-icon">ğŸ“</text>
      <text class="location-title">é€‰ä¸­åœ°ç‚¹</text>
    </view>
    <view class="location-info">
      <view class="location-name">{{locationName}}</view>
      <view class="location-address">{{locationAddress}}</view>
      <view class="location-distance">
        è·ç¦»å½“å‰ä½ç½®: {{distance}}ç±³
      </view>
    </view>
  </view>

  <!-- æ‰“å¡çŠ¶æ€ -->
  <view class="checkin-status card" wx:if="{{checkinResult}}">
    <view class="status-icon {{checkinResult.success ? 'success' : 'error'}}">
      {{checkinResult.success ? 'âœ“' : 'âœ—'}}
    </view>
    <view class="status-text {{checkinResult.success ? 'success' : 'error'}}">
      {{checkinResult.message}}
    </view>
    <view class="status-detail" wx:if="{{checkinResult.detail}}">
      {{checkinResult.detail}}
    </view>
  </view>

  <!-- æ‰“å¡æŒ‰é’® -->
  <view class="checkin-actions">
    <button 
      class="btn btn-success checkin-btn" 
      bindtap="performCheckin"
      disabled="{{!canCheckin}}"
    >
      <text wx:if="{{!checking}}">ç«‹å³æ‰“å¡</text>
      <text wx:else class="loading">æ‰“å¡ä¸­...</text>
    </button>
    
    <button class="btn btn-secondary" bindtap="goBack">
      è¿”å›åœ°å›¾
    </button>
  </view>

  <!-- æ‰“å¡è§„åˆ™è¯´æ˜ -->
  <view class="rules-card card">
    <view class="rules-title">æ‰“å¡è§„åˆ™</view>
    <view class="rules-content">
      <view class="rule-item">
        <text class="rule-icon">ğŸ“</text>
        <text>éœ€è¦åœ¨é€‰ä¸­åœ°ç‚¹400ç±³èŒƒå›´å†…æ‰èƒ½æ‰“å¡</text>
      </view>
      <view class="rule-item">
        <text class="rule-icon">â°</text>
        <text>æ¯æ¬¡æ‰“å¡éƒ½ä¼šè®°å½•æ—¶é—´å’Œä½ç½®ä¿¡æ¯</text>
      </view>
      <view class="rule-item">
        <text class="rule-icon">ğŸ“±</text>
        <text>æ‰“å¡è®°å½•å¯åœ¨"è®°å½•"é¡µé¢æŸ¥çœ‹</text>
      </view>
    </view>
  </view>
</view>
